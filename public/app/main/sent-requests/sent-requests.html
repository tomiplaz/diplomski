<div ng-if="main.user.type == 0">

    <div ng-if="sentRequests.requests.length > 0">

        <div layout="row" layout-align="space-between center">
            <md-button class="md-fab md-mini md-raised" ng-click="sentRequests.previous()" aria-label="Prethodni zahtjev"
                       ng-disabled="sentRequests.current == 0">
                <md-tooltip md-direction="bottom">Prethodni zahtjev</md-tooltip>
                <md-icon md-svg-src="navigate_before"></md-icon>
            </md-button>

            <iframe class="requests-frame" flex></iframe>

            <md-button class="md-fab md-mini md-raised" ng-click="sentRequests.next()" aria-label="Sljedeći zahtjev"
                       ng-disabled="sentRequests.current == sentRequests.requests.length - 1">
                <md-tooltip md-direction="bottom">Sljedeći zahtjev</md-tooltip>
                <md-icon md-svg-src="navigate_next"></md-icon>
            </md-button>
        </div>

        <p layout="row" layout-align="center center">
            {{ sentRequests.current + 1 }}/{{ sentRequests.requests.length }}
        </p>

        <div layout="row" layout-align="center center">
            <div layout="column" layout-align="center space-between" class="width-40">
                <div>
                    Poslano: {{ sentRequests.request.created_at }}
                </div>
                <div>
                    <span>Ispravnost: </span>
                    <span ng-if="sentRequests.request.quality_check != null">
                        {{ sentRequests.request.quality_check }} ({{ sentRequests.request.quality_check_timestamp }})
                    </span>
                    <span ng-if="sentRequests.request.quality_check == null">
                        nije pregledano
                    </span>
                </div>
                <div>
                    <span>Odobrenje: </span>
                    <span ng-if="sentRequests.request.approved != null">
                        {{ sentRequests.request.approved }} ({{ sentRequests.request.approved_timestamp }})
                    </span>
                    <span ng-if="sentRequests.request.approved == null">
                        nije pregledano
                    </span>
                </div>
            </div>

            <div class="width-40">
                <div ng-if="sentRequests.request.quality_check == false">
                    Razlog neispravnosti: {{ sentRequests.request.invalidity_reason }}
                </div>
                <div ng-if="sentRequests.request.approved == false">
                    Razlog odbijanja: {{ sentRequests.request.disapproval_reason }}
                </div>
            </div>
        </div>

    </div>

    <div ng-if="sentRequests.requests.length == 0">

        <p>Nema poslanih zahtjeva</p>

    </div>

</div>

<div ng-if="main.user.type != 0">
    Nemaš to pravo!
</div>